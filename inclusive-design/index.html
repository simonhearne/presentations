<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>An Inclusive Web is Fast by Default - @SimonHearne</title>
		<base target="_blank"></base>
		<meta name="description" content="Presentation: An Inclusive Web is Fast by Default.">
		<meta name="author" content="Simon Hearne">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="../css/reveal.css">
		<link rel="stylesheet" href="../css/theme/simon2.css" id="theme">

		<meta property="og:image" content="https://simonhearne.com/presentations/inclusive-design/social.png" />
		<meta property="og:image:width" content=1200 />
		<meta property="og:image:height" content=600 />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:creator" content="@SimonHearne" />
		<meta name="twitter:title" content="Presentation: An Inclusive Web is Fast by Default.">
		<meta name="twitter:description" content="" />
		<meta name="twitter:image" content="https://simonhearne.com/presentations/inclusive-design/social.png" />
		
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../css/print/pdf.css' : '../css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">
			<div class="smaller tagline"><a style="color: white !important" href="https://twitter.com/simonhearne">@SimonHearne</a></div>
			<!-- Entertain, inform, educate -->
			<div class="slides">
				<section data-state="title-slide">
					<h1>An Inclusive Web is <span style="font-style:oblique;">Fast by Default</span></h1>
					<p style="margin:0;">Simon Hearne</p>
					<p class="smaller" style="margin:0;">Web Performance Architect</p>
					<aside class="notes">
						<p>Welcome to this presentation on Web Performance and Inclusive Design.</p>
						<p>Use keys '<code>n</code>' and '<code>p</code>' to navigate forwards and backwards through the slides.<br>
						Use key '<code>o</code>' to view an overview, press '<code>m</code>' to toggle this notes window.</p>
						<p>If you have any questions or feedback, please contact Simon on <a href="https://twitter.com/SimonHearne">Twitter</a> or by email - simon (at) hearne (dot) me.</p>
					</aside>
				</section>
				<section id="intro">
					<section>
						<h2>🤔</h2>
						<aside class="notes">
							<p>Take a few seconds to think back to the last time you had poor wifi or cellular connection.<p>
						</aside>
					</section>
					<section data-background="../backgrounds/no-wifi-zone.jpg">
						<h2></h2>
						<aside class="notes">
							<p>For me, it was when I was working from home and my cable internet went out, it happens a few times a year. My home has poor mobile coverage, so much so that I have to use wifi calling. When my cable internet goes out, I get about 20 - 50kbps of downlink over 3G. This is enough for... well not much actually.</p>
							<p>I found myself instantly, temporarily excluded from the internet.</p>
							<p>I could not complete work tasks, browse the web, check my emails. Even though my phone reported *some* signal, most of the web became totally inaccessible.</p>
							<p>Stephanie Stimac has <a href="https://blog.stephaniestimac.com/posts/10-30-2019-performance/">written about</a> their experience of limited connectivity in an emergent situation.</p>
						</aside>
					</section>
					<section data-background="../backgrounds/tap.jpg">
						<h2 class="dark-bg">We treat connectivity as a utility</h2>
						<aside class="notes">
							<p>I am in a privileged position: my internet connectivity was restored after about 20 minutes. Just as quickly as I had been excluded from the internet I was back in full flow - messages poured in, web pages loaded near-instantly and I soon forgot about the temporary blip in my connection to the matrix.</p>
							<p>The chances are that you are in a similar position to me. A reasonably good home connection, perhaps access to an office with very good connection. A modern smartphone with a 4G chipset, big screen and fast processor, perhaps even 5G!<p>
							<p>For us, access to the web is a utility like gas, water and electricity. It works so well, for so much of the time that we rarely even consider it - perhaps occasionally when travelling through weak spots on a train journey.</p>
						</aside>
					</section>
					
					<section data-state="tertiary-slide">
						<p>65% of people in the developing world do not have access to fast internet</p>
						<p class="fragment">it's 20% in the developed world</p>
						<p class="subtitle bottom-left smallest"><a href="https://www.worldbank.org/en/topic/digitaldevelopment/brief/connecting-for-inclusion-broadband-access-for-all">Connecting for Inclusion: Broadband Access for All. The World Bank.</a>
						<aside class="notes">
							<p>65% of the developing world don't see it like this as they do not have a consistently fast internet connections (20% of the developed world). For them, connectivity is less utility and more luxury. For them, slow devices, slow connections and slow experiences are the norm.</p>
						</aside>
					</section>
					
					<section data-background="../backgrounds/rainbow.jpg">
						<h2>Performance is key to inclusion</h2>
						<aside class="notes">
							<p>Today we are talking about Inclusive Design, and I would like you to consider how performance - the speed of our apps and websites - is a critical factor in inclusivity and accessibility.</p>
						</aside>
					</section>
					
				</section>

				<section>
					<section data-background="../backgrounds/youtube.jpg">
						<p class="fragment align-right">Player page was 1,200kB</p>
						<p class="fragment align-right">Feather was under 100kB</p>
						<p class="subtitle smallest bottom-right"><a href="https://blog.chriszacharias.com/page-weight-matters">Page Weight Matters - Chris Zacharias</a></p>
						<aside class="notes">
							<p>Consider YouTube. For me, it is generally an entertainment service. For some folks, it is a source of education, information, news and health advice (for better or for worse). YouTube seems so ubiquitous that, like our connectivity, we might consider it a utility. But what if your connection was too slow to load the video player? Or your device so limited on storage that you had to choose between family photos or the YouTube app?</p>
							<p>Back in 2009 YouTube was a hefty web app. The video player page came in at 1.2MB - before the video had even started to load! Chris Zacharias was a developer on the team and started a project to fix the performance problems - codenamed Project Feather. The engineering work was intense: hand-writing the CSS and JavaScript, manually optimising image sprites and implementing the just-written HTML5 video player to replace the Flash player. The result of this work was a page load in under 100kB with only 14 requests, quite the improvement!</p>
							<p>Project Feather was pushed live with as a small opt-in experiment in order to collect metrics on the success of the project. After a week of data collection - the results were in! The key metric tracked was the page onload event - a standard performance measure in 2009. Take a second to think how much improvement you might expect - reducing page weight by over 90%, swapping Flash for native video, hand-crafting the code for optimal performance. 50% improvement? 100% improvement?</p>
						</aside>
					</section>
					<section class="pull-up" data-background="../backgrounds/turtle.jpg">
						<h2>Feather was slower...</h2>
						<aside class="notes">
							<p>The results were... less than impressive. Project Feather was slower than the legacy player page. Significantly slower.</p>
						</aside>
					</section>
					
					
					<section>
						<h2></h2>
						<img class="plain" loading="lazy" src="media/treo-youtube.svg"/>
						<p class="subtitle smallest bottom-left"><a href="https://treo.sh/sitespeed/m.youtube.com">LCP data from CRUX for m.youtube.com, July 2021</a></p>
						<aside class="notes">
							<p>An investigation ensued to work out what had happened. Performance is a tricky subject because there are so many variables to control for - device, connection, geography, cache state. This hasn't changed in the past 12 years! What the team at YouTube discovered is that the geographic distribution of users who had opted-in to Feather was disproportionately skewed towards Southeast Asia, South America, Africa and other regions with typically slow internet connections. These users had previously been totally locked out of YouTube due to the page weight (some would have to wait twenty minutes just to load the HTML, CSS and JavaScript).</p>
						</aside>
					</section>

					<section>
						<h2></h2>
						<img class="plain" loading="lazy"  src="media/treo-youtube-conns.svg"/>
						<p class="subtitle smallest bottom-left"><a href="https://treo.sh/sitespeed/m.youtube.com">Connection data from CRUX for m.youtube.com, July 2021</a></p>
						<aside class="notes">
							<p>Switching to view connection quality explains the issue. High quality connections are represented in dark blue - as high proportions of connections at 4G speeds. The whiter countries have poorer connectivity, with the brightest countries having close to zero connections rated as effective 4G (this is defined as latency less than 270ms and downlink greater than 700kb/s!).</p>
							<p>Note especially that countries such as Iran, Afghanistan and Turmenistan have poor connectivity, as do most African countries and Venezuela in South America.</p>
						</aside>
					</section>
					<section>
						<h2>Performance is a distribution</h2>
						<img class="plain" loading="lazy" width="50%" src="media/treo-youtube-dist.png" />
						<p class="subtitle smallest bottom-left"><a href="https://treo.sh/sitespeed/m.youtube.com">LCP data from CRUX for m.youtube.com, July 2021</a></p>
						<aside class="notes">
							<p>Google uses the 75th percentile to measure Core Web Vitals - percentiles are a good way to get a single metric but it can hide the underlying distribution. Note here the spike of experiences at the 15s mark!</p>
						</aside>
					</section>
					<section>
						<h2>Even within the US</h2>
						<img loading="lazy" src="media/cf-usa.jpg"/>
						<p class="subtitle smallest bottom-left"><a href="https://blog.cloudflare.com/understanding-where-the-internet-isnt-good-enough-yet/">Understanding Where the Internet Isn't Good Enough Yet - Cloudflare</a></p>
						<aside class="notes">
							<p>Cloudflare measured the performance of connections by city in the US. This shows the vast difference between California cities at over 50Mbps and central American cities at under 5Mbps</p>
						</aside>
					</section>
					<section>
						<h2>So was Feather a success?</h2>
						<aside class="notes">
							<p>Project Feather was in fact a success, it had opened up YouTube and the educational, entertaining and informative content within to millions of new users.</p>
						</aside>
					</section>
					
					<section class="tertiary-slide">
						<h2>What we can learn from Feather</h2>
						<ul>
							<li class="fragment">Being faster by default is more inclusive</li>
							<li class="fragment">Performance data can be misleading</li>
						</ul>
					</section>
					
					<section>
						<h2>Reasons for low quality internet</h2>
						<ul style="font-size: 85%">
							<li class="fragment">1 in 2 US households have no broadband</li>
							<li class="fragment">15% of the UK has no 4G coverage</li>
							<li class="fragment">Natural disasters</li>
							<li class="fragment">Travel (connection &amp; roaming charges)</li>
							<li class="fragment">Low power / battery saver mode</li>
							<li class="fragment">No access to modern devices</li>
						</ul>
						<p class="fragment">How many of these do you experience while designing / developing an app?</p>
					</section>
					<section>
						<h2>But our data shows...</h2>
						<ul style="font-size: 85%">
							<li class="fragment" data-fragment-index="1">What about 'ghost bounces'?</li>
							<li class="fragment" data-fragment-index="2">88% of Firefox users block GA<sup>(1)</sup></li>
							<li class="fragment" data-fragment-index="3">40% of Safari users block GA<sup>(1)</sup></li>
							<li class="fragment" data-fragment-index="4">40% more blocking in developing world<sup>(2)</sup></li>
							<li class="fragment" data-fragment-index="5">CRUX only has data for Chrome</li>
						</ul>
						<p class="fragment">There are many reasons why not all users are represented in your data.</p>
						<p class="subtitle smallest bottom-left">
							<span class="fragment" data-fragment-index="2">1. <a href="https://plausible.io/blog/google-analytics-adblockers-missing-data#88-of-firefox-users-block-google-analytics">58% of Hacker News, Reddit and tech-savvy audiences block Google Analytics</a></span>
							<span class="fragment" data-fragment-index="4">2. <a href="https://backlinko.com/ad-blockers-users">Ad Blocker Usage and Demographic Statistics in 2021</a></span>
						</p>
						<aside class="notes">
							<p>Analytics data is good for general analysis, but beware survivorship bias. Users who never successfully access your application will not appear in your analytics. See <a href="https://simonhearne.com/2017/analytics-lie/">my blog post on this</a>.
							<p><a href="https://plausible.io/blog/google-analytics-adblockers-missing-data#88-of-firefox-users-block-google-analytics">88% of Firefox users block GA</a>.</p>
						</aside>
					</section>
				</section>

				<section id="agenda">
					<section>
						<h2>Building fast, inclusive experiences</h2>
						<ol class="fragment">
							<li>Understanding the problem</li>
							<li>Designing for speed</li>
							<li>Adapting to the user</li>
							<li>Convincing the boss</li>
						</ol>
						<aside class="notes">
							<p>My goal for this talk is to help you understand the challenges of performance and inclusivity, and provide some tools and data to be successful in future projects.</p>
						</aside>
					</section>
				</section>
				
				<section id="the-problem">
					<section data-state="secondary-slide">
						<h2>Understanding the Problem</h2>
					</section>
					<section class="pull-up">
						<h2>Users are not averages</h2>
						<img loading="lazy" class="roundy plain" style="width: 30%" src="media/ryan_tweet.png"></img>
						<p class="subtitle smallest bottom-left"><a href="https://twitter.com/RyanTownsend/status/1435612305010593801">@RyanTownsend on Twitter</a></p>
						<aside class="notes">
							<p>Ryan Townsend tweeted from an airport lounge where Twitter took thirty seconds to load. This highlights that performance can impact anyone, regardless of socioeconomic status.</p>
						</aside>
					</section>
					<section class="pull-up">
						<h2>Modern Metrics Help!</h2>
						<div class="columns">
							<div class="column">
								<img loading="lazy" width="100%" src="media/psi-yt.png" />
							</div>
							<div class="column" style="font-size:80%">
								<ul>
									<li class="fragment" data-fragment-index="1">Score from Lab data</li>
									<li class="fragment" data-fragment-index="2">CWV* are UX proxies</li>
									<li class="fragment">Field data from real users</li>
									<li class="fragment">75th %ile for Field data</li>
									<li class="fragment">Lab is emulated MotoG4</li>
								</ul>
							</div>
						</div>
						<p class="subtitle bottom-left smallest">
							<span><a href="https://developers.google.com/speed/pagespeed/insights/?url=m.youtube.com">PSI - m.youtube.com</a></span>
							<span class="fragment" data-fragment-index="2">* Core Web Vitals</span>
						</p>
						<aside class="notes">Pagespeed Insights gives data both from Lab (a synthetic test) and Field (data gathered from real visits in Chrome). It is important to understand the differences between the two, and how the data is collected.</aside>
					</section>
					<section class="pull-up">
						<h2>Estimated Cost in WPT</h2>
						<img loading="lazy" width="80%" src="media/wpt-yt1.png" />
						<p class="subtitle bottom-left smallest"><a href="https://webpagetest.org">WebPageTest.org</a></p>
						<aside class="notes">Use WPT settings to configure a mobile test at 3G speed - mobile emulation throttles the CPU and sets the viewport.</aside>
					</section>
					
					<section class="pull-up">
						<h2>Estimated Cost in WPT</h2>
						<img loading="lazy" src="media/wpt-yt2.png" />
						<p class="subtitle bottom-left smallest"><a href="https://www.webpagetest.org/result/210920_AiDcKH_b1624bcaadf98f8d2c016a3533aa952b/">Test Result</a></p>
						<aside class="notes">WPT results show how this test run compares to the Field data collected by Google, and shows an estimated cost in mobile data.</aside>
					</section>
					
					<section class="pull-up">
						<h2>Estimated Cost in WPT</h2>
						<img loading="lazy" width="50%" src="media/wdmsc-yt.png" />
						<p class="subtitle bottom-left smallest"><a href="https://whatdoesmysitecost.com/test/210920_AiDcKH_b1624bcaadf98f8d2c016a3533aa952b">What Does My Site Cost? m.youtube.com</a></p>
						<aside class="notes">What Does My Site Cost? provides an estimate for the actual cost of the data required to load your web page using global data costs.</aside>
					</section>

					<section class="pull-up">
						<h2>Compare Speed with Treo</h2>
						<img loading="lazy" width="80%" src="media/treo.png" />
						<p class="subtitle bottom-left smallest"><a href="https://treo.sh/sitespeed/m.youtube.com/vs/player.vimeo.com/vs/www.dailymotion.com">Treo Comparison</a></p>
						<aside class="notes">Treo uses public Core Web Vitals data to present a comparison of real-world site speed</aside>
					</section>

					<section>
						<h2>Use the Tools!</h2>
						<p>Understand the benefits and drawbacks,<br>then use regularly to track speed</p>
						<aside class="notes">
							<p>There are hundreds of tools that measure performance. Select a few which work well for you - lab tests are great for development, real-user monitoring (like <a href="https://www.akamai.com/products/mpulse-real-user-monitoring">Akamai mPulse</a>) is critical to measure user experience in the wild.</p>
						</aside>
					</section>
					
				</section>
				
				<section id="the-solution">
					<section data-state="secondary-slide">
						<h2>Designing for Speed</h2>
					</section>

					<section>
						<img loading="lazy" width="70%" src="media/tweet-npr.png" />
						<aside class="notes">
							<p>NPR does a great job of publishing all of their content in a text-only version for inclusivity.</p>
						</aside>
						<p class="subtitle smallest bottom-left"><a href="https://twitter.com/NPR/status/1432385761211559937">Tweet by NPR</a></p>
					</section>
					<section>
						<h2>Lite sites for quick loading</h2>
						<img loading="lazy" width="80%" src="media/lite-sites.png" />
						<p class="fragment">Fast by default?</p>
						<p class="subtitle smallest bottom-left"><a href="https://github.com/mdibaiee/awesome-lite-websites">awesome-lite-sites on GitHub</a></p>
						<aside class="notes">
							<p>Lite sites have multiple challenges like discoverability and maintenance. GMail is a good example - the 'load simple HTML view' option appears after the loading screen has been shown for a few seconds.</p>
						</aside>
					</section>
					<section data-background="media/goojf.jpg">
						<aside class="notes">
							<p>I'll tell you a secret - there is a solution which is a bit of a "get out of jail free" card for performance and inclusivity - lite sites</p>
						</aside>
					</section>
					<section>
						<h2>Performance must be baked in</h2>
						<aside class="notes">
							<p>Lite sites are an admission that the main application is too heavy. The main application must be light and fast in order to avoid a fragmented experience.</p>
							<p>We often leave performance too late in the development process, by which point it becomes difficult to advocate for change.</p>
						</aside>
					</section>
					<section>
						<h2>Project Timeline</h2>
						<img class="plain" loading="lazy" src="media/pathtoperf0.svg" />
						<p class="smallest bottom-left subtitle"><a href="https://speakerdeck.com/katiekovalcin/the-path-to-performance">The Path to Performance - Katie Kovalcin</a></p>
						<aside class="notes">
							<p>If we consider a simplified project timeline...</p>
						</aside>
					</section>
					<section>
						<h2>Project Timeline</h2>
						<img class="plain" loading="lazy" src="media/pathtoperf1.svg" />
						<p class="smallest bottom-left subtitle"><a href="https://speakerdeck.com/katiekovalcin/the-path-to-performance">The Path to Performance - Katie Kovalcin</a></p>
						<aside class="notes">
							<p>If we consider a simplified project timeline...</p>
							<p>We tend to think about performance at the latter stages - when we start to build UAT environments or even when folks start complaining.</p>
						</aside>
					</section>
					<section>
						<h2>Project Timeline</h2>
						<img class="plain" loading="lazy" src="media/pathtoperf2.svg" />
						<p class="smallest bottom-left subtitle"><a href="https://speakerdeck.com/katiekovalcin/the-path-to-performance">The Path to Performance - Katie Kovalcin</a></p>
						<aside class="notes">
							<p>If we consider a simplified project timeline...</p>
							<p>We tend to think about performance at the latter stages - when we start to build UAT environments or even when folks start complaining.</p>
							<p>Performance should actually be considered right from initial designs and scoping, this reduces the effort and cost of delivering fast and inclusive apps and websites.</p>
						</aside>
					</section>
					<section>
						<img loading="lazy" src="media/fix-cost.jpg">
						<p class="subtitle smallest bottom-left"><a href="https://deepsource.io/blog/exponential-cost-of-fixing-bugs/">The Exponential Cost of Fixing Bugs</a></p>
						<aside class="notes">
							<p>It is widely understood that bugs become exponentially more difficult to fix as they progress through the development cycle. Performance issues are similar, although the later they are discovered the less likely they are to be fixed at all!</p>
						</aside>
					</section>
					<section data-background-color="#941f55" data-background-size="contain" data-background-image="media/mustard.jpg">
						<h2 class="dark-bg">Progressive Enhancement FTW</h2>
						<p class="subtitle smallest bottom-left"><a href="https://speakerdeck.com/patrickhamann/breaking-news-at-1000ms-tech-dot-insight-2014?slide=21">Breaking News at 1000ms - Patrick Hamann</a></p>
						<aside class="notes">
							<p>Progressive enhancement is the concept of shipping the important content (from a user's point-of-view) first, then adding more content later.</p>
						</aside>
					</section>
					<section>
						<h2>Images</h2>
						<ul class="fragment">
							<li>Lazy-load hidden images</li>
							<li>Low-quality placeholders</li>
							<li>Use modern formats (WEBP / AVIF)</li>
							<li>Send the right sized image</li>
						</ul>
						<aside class="notes">
							<p>Images make up the majority of bytes for most pages, totalling almost 1MB for the average page!</p>
							<p>Delivering only the required images, using modern formats and delivering the correct size image can greatly reduce their impact on performance.</p>
						</aside>
					</section>
					<section>
						<h2>JavaScript</h2>
						<ul class="fragment">
							<li>Minimal client-side JS</li>
							<li>Use native browser features</li>
							<li>Measure impact on real devices</li>
						</ul>
						<aside class="notes">
							<p>JavaScript bytes are the most expensive on the web - not only must they be downloaded, but the browser then must parse and execute them - this often takes as long as the download time, or longer on lower-powered devices!</p>
							<p>Ideally it should be possible to render the page entirely without JavaScript, then load only the minimum code required to add interactivity.</p>
						</aside>
					</section>
					<section>
						<h2>Painting Fast</h2>
						<ul class="fragment">
							<li>Don't depend on video</li>
							<li>Identify &amp; inline critical CSS</li>
							<li>No blocking assets (JS / CSS)</li>
							<li>Prioritize key assets</li>
							<li><code>preload</code> known critical assets</li>
						</ul>
						<aside class="notes">
							<p>Your goal should be to render a page with just the HTML document downloaded. This means moving the critical CSS inline to the document and removing blocking requests to JavaScript.</p>
							<p>Preload is a useful tool to tell the browser what it will need to download - use this sparingly for webfonts and hero images.</p>
						</aside>
					</section>
					<section>
						<h2>Tools can Help</h2>
						<img loading="lazy" width="60%" src="media/psi-recommendations.png">
						<p class="subtitle smallest bottom-left"><a href="https://developers.google.com/speed/pagespeed/insights/?url=m.youtube.com">PSI - m.youtube.com</a></p>
						<aside class="notes">
							<p>Tools such as Pagespeed Insights (and <a href="">Lighthouse</a> for development environments) provide useful information on opportunities to improve performance.</p>
						</aside>
					</section>
				</section>

				<section id="adapting">
					<section data-state="secondary-slide">
						<h2>Adapting to the User</h2>
						<aside class="notes">
							<p>There are a surprising number of ways that users can let you know about their preferences, many of them can be used to deliver optimal experiences!</p>
						</aside>
					</section>
					<section>
						<h2>Data Saver</h2>
						<img loading="lazy" width="50%" src="https://developers.google.com/web/updates/images/2016/02/save-data/data-saver-chrome.png"/>
						<p class="subtitle smallest bottom-left"><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/save-data">Delivering Fast and Light Applications with Save-Data</a></p>
						<aside class="notes">
							<p>Data saver is a client hint to opt-in to saving data - you can use this to automatically deliver a lighter version of your application</p>
						</aside>
					</section>
					<section>
						<h2>Network Info API</h2>
						<p class="subtitle smallest bottom-left"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API">Network Information API</a></p>
						<pre><code class="language-js">
// navigator.connection
NetworkInformation {
	downlink: 5.4
	effectiveType: "4g"
	onchange: null
	rtt: 150
	saveData: false
}
						</code></pre>
						<aside class="notes">
							<p>The network information API provides access to information about the user's connection - once your page has loaded and JavaScript is available</p>
						</aside>
					</section>
					<section>
						<h2>Client Hints</h2>
						<div class="">
							<pre><code class="language-html">
GET /index.html

accept-ch: Downlink,RTT,Device-Memory,Save-Data,DPR,Width
...

GET /image.jpg

downlink: 6.75
rtt: 100
dpr: 2
width: 1025
device-memory: 8
							</code>
						</div>
						<p class="subtitle smallest bottom-left"><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/client-hints">Adapting to Users with Client Hints</a></p>
						<aside class="notes">
							<p>Client hints provide access to a number of device parameters </p>
						</aside>
					</section>
					<section>
						<h2>Responsive Images</h2>
						<ul class="fragment">
							<li>Use a service to resize &amp; for modern formats</li>
							<li>Use markup to deliver the right image</li>
							<li>Limit resolution to 2x DPI</li>
						</ul>
					</section>
					<section>
						<h2>Responsive Images</h2>
						<pre><code data-trim data-noescape>
&lt;img src="/image.jpg" alt=".." loading="eager" decoding="async"
width="1920" height="1080" srcset="<br>    /image_600.jpg 600w,
	...
    /image.jpg 1920w"
sizes="<br>    (min-width: 1920px) 500px,<br>    (min-width: 1280px) 33.333vw,<br>    (max-width: 895px) 83.333vw,<br>    500px"&gt;
						</code></pre>

					</section>
					<section>
						<h2>Performance Budgets</h2>
						<img loading="lazy" width="75%" src="media/budgets.jpg" />
						<p class="smallest bottom-left subtitle"><a href="https://speakerdeck.com/katiekovalcin/the-path-to-performance">The Path to Performance - Katie Kovalcin</a></p>
					</section>
					<section>
						<h2>A/B Testing</h2>
						<ul class="fragment">
							<li>Use server-side tooling if possible</li>
							<li>Separate production and pre-production tests</li>
							<li>Remove 0% tests</li>
						</ul>
					</section>
					<section>
						<h2>Understand Speed @ Design</h2>
						<aside class="notes">
							<p>If there's one takeaway from this - speed must be understood at the design stage!</p>
						</aside>
					</section>
				</section>
				
				<section id="convince-bosses">
					<section data-state="secondary-slide">
						<h2>Convincing the Boss</h2>
						<aside class="notes">
							<p>By now, I'd like to think that you are all convinced of the intrinsic value of improving site speed. Unfortunately some of us also need to convince others that the work is meaningful and time should be scheduled for it.</p>
							<p>Unfortunately, performance as a topic is often under-funded unless there has been a major issue. I'd like to share some tips that I have learned from working on performance projects for a decade.</p>
						</aside>
					</section>
					<section>
						<h2>Buy-In Methods</h2>
						<style>dd { margin-left: 100px !important; padding-bottom: 20px !important; font-size: small; opacity: 0.8;}</style>
						<dl style="font-size: 80%">
							<dt class="fragment">Say pleeeease</dt><dd>10% chance of success</dd>
							<dt class="fragment">Use global stats</dt><dd>20% chance of success</dd>
							<dt class="fragment">Use your own data</dt><dd>30% chance of success</dd>
							<dt class="fragment">Say "SEO" repeatedly</dt><dd>50% chance of success</dd>
							<dt class="fragment">Competitive benchmarking</dt><dd>60% chance of success</dd>
						</dl>
						<p class="fragment subtitle smallest bottom-left">* numbers may vary</p>
						<aside class="notes">
							<p>Unfortunately, like many things in life, just because something is the right thing to do doesn't mean it will happen. Appealing to folks' competitive nature almost always works, then they will use the data to justify their decisions!</p>
						</aside>
					</section>
					<section>
						<h2>But seriously...</h2>
						<p>Getting buy-in is difficult, especially after a project starts.</p>
						<p class="fragment">Include speed &amp; budgets in proposals, early proofs and success criteria.</p>
					</section>

				</section>
				
				<section id="practical-tips">
					<section data-state="secondary-slide">
						<h2>Tips to Build Empathy in Design</h2>
					</section>
					<section>
						<h3>1. Use Chrome's throttling features</h3>
						<img loading="lazy" src="media/throttling.jpg" />
					</section>
					<section>
						<h3>2. 2G Tuesdays</h3>
						<img loading="lazy" class="plain" src="media/2g.svg" />
						<p class="subtitle smallest bottom-left"><a href="https://engineering.fb.com/2015/10/27/networking-traffic/building-for-emerging-markets-the-story-behind-2g-tuesdays/">Building for emerging markets: The story behind 2G Tuesdays</a></p>
					</section>
					<section>
						<h3>3. Use a low-spec device for testing</h3>
						<img loading="lazy" class="" width="60%" src="media/amazon.jpg" />
						<p class="subtitle smallest bottom-left"><a href="https://www.amazon.co.uk/gp/bestsellers/electronics/356496011">Amazon UK Best Sellers, updated hourly.</a></p>
					</section>
					<section>
						<h3>4. Browse with JavaScript disabled</h3>
						<img loading="lazy" class="" width="60%" src="media/twitter.png" />
					</section>
					<section>
						<h3>5. Test with third-parties</h3>
						<ul class="fragment">
							<li><a href="https://www.simoahava.com/analytics/track-non-javascript-visits-google-analytics/">GTM &amp; Google Analytics without JavaScript</a></li>
							<li>Remove third-parties with high JS cost</li>
							<li>Defer third-parties until after page load</li>
							<li>Have a third-party budget</li>
						</ul>
					</section>
				</section>
				
				<section id="closing">

					<section data-state="tertiary-slide">
						<h2>Performance is all about empathy</h2>
					</section>
					
					<section>
						<blockquote>The future is already here,<br>it's just not evenly distributed</blockquote>
						<p class="smallest" style="text-align: right">William Gibson</p>
						<aside class="notes">
							<p>I'd like to leave you with a quote - the future is already here, it's just not evenly distributed.</p>
							<p>As folks who build online experiences, we can help to level the playing field and provide access to as many people as possible.</p>
						</aside>
					</section>
					<section>
						<h2>Speed = Opportunities</h2>
						<img loading="lazy" width="80%" src="media/tweet-akhil.png">
						<p class="subtitle smallest bottom-left"><a href="https://twitter.com/akhiljp_dev/status/1433088201460117513">Tweet by Akhil Jayaprakash</a></p>
						<aside class="notes">
							<p>Every large online business is (or should be) focussing on speed. Developing this specialty is a great way to improve your career!</p>
						</aside>
					</section>
					<section id="resources">
						<h2>Resources</h2>
						<div style="display:flex;font-size:75%;">
							<div style="display:flex;flex-grow: 1;flex-basis: 0;">
								<a href="https://www.oreilly.com/library/view/designing-for-performance/9781491903704/"><img class="plain" width="800" loading="lazy" src="media/books/design.jpg" /></a>
							</div>
							<div style="display:flex;flex-grow: 1;flex-basis: 0;">
								<a href="https://www.smashingmagazine.com/printed-books/image-optimization/"><img class="plain" width="800" loading="lazy" src="media/books/imgopti.png" /></a>
							</div>
							<div style="display:flex;flex-grow: 1;flex-basis: 0;">
								<a href="https://hpbn.co/"><img class="plain" width="800" loading="lazy" src="media/books/hpbn.jpg" /></a>
							</div>
							<div style="display:flex;flex-grow: 1;flex-basis: 0;">
								<a href="https://www.oreilly.com/library/view/using-webpagetest/9781491902783/"><img class="plain" width="800" loading="lazy" src="media/books/usingWPT.jpg" /></a>
							</div>
							<div style="display:flex;flex-grow: 1;flex-basis: 0;">
								<a href="https://amzn.to/3kvptC1"><img class="plain" width="800" loading="lazy" src="media/books/timeismoney.jpg" /></a>
							</div>
						</div>
						<aside class="notes">
							<p>There are a huge number of resources to help build fast apps and websites.</p>
							<p>Sergey Chernyshev has a <a href="https://kit.co/SergeyChernyshev/web-performance-books">list of 18 books</a> if you are looking for more!</p>
						</aside>
					</section>
				</section>

				<section class="pull-up" data-background-image="../backgrounds/passion.jpg">
					<h2 class="dark-bg">Thank you 🙏</h2>
					<p class="dark-bg" style="margin-top: 9em !important;"><a style="color:white !important;" href="https://twitter.com/SimonHearne">@SimonHearne</a><br><a style="color:white !important;" href="https://simonhearne.com/">simonhearne.com</a></p>
				</section>
			</div>
			<div id="chart-controls" class="hide"></div>

		</div>

		<script src="../lib/js/head.min.js"></script>
		<script src="../js/reveal-4.1.3.min.js"></script>
		<script src="../lib/js/jquery-3.3.1.min.js"></script>

		<script>
			function sleep(ms) {
				return new Promise(resolve => setTimeout(resolve, ms));
			}
			function getQueryVariable(variable)
			{
				var query = window.location.search.substring(1);
				var vars = query.split("&");
				for (var i=0;i<vars.length;i++) {
						var pair = vars[i].split("=");
						if(pair[0] == variable){return pair[1];}
				}
				return(false);
			}
			var presenting = window.location.search.includes('present');
			var duration = getQueryVariable('duration') || 30;
			var hasCode = !!document.querySelector('code');
			var hasAnims = !!document.querySelector('[data-animate]');
			var keyboard = {
				// pause/resume time when Enter is pressed
				13: () => {
					ElapsedTimeBar.isPaused ? ElapsedTimeBar.resume() : ElapsedTimeBar.pause();
				},
				// reset timer when 'r' is pressed
				82: () => {
					ElapsedTimeBar.reset();
				},
				77: () => {
					Reveal.configure({showNotes: !!!Reveal.getConfig().showNotes});
				}
			}
			if (presenting) {
				document.body.classList.add("presenting");
				keyboard = Object.assign(keyboard,
				{
					39: 'next',
					37: 'prev'
				});
			}
			
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: !presenting,
				showNotes: !presenting,
				progress: true,
				history: true,
				center: true,

				transition: 'none', // none/fade/slide/convex/concave/zoom
				transitionSpeed: 'fast',

				allottedTime: duration * 60 * 1000, // 30 minutes
				barColor: 'hsl(220,99%,54%)',

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: '../lib/js/classList.js', 				async: true, condition: function() { return !document.body.classList; } },
					{ src: '../plugin/markdown/marked.js', 			async: true, condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../plugin/markdown/markdown.js', 		async: true, condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../plugin/embed-tweet/embed-tweet.js', 	async: true, condition: function() { return !!document.querySelector( 'div.tweet[data-src]' ); } },
					{ src: '../lib/js/vega.min.js', 				condition: function() { return !!document.querySelector( 'div.vega-chart' ); } },
					{ src: '../lib/js/vega-embed.min.js', 			condition: function() { return !!document.querySelector( 'div.vega-chart' ); } },
					{ src: '../plugin/elapsed-time-bar/elapsed-time-bar.js', async: true, condition: function() { return presenting}},
					{ src: '../plugin/highlight/highlight.js', 		async: true, condition: function() {return hasCode},async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../plugin/search/search.js', 			async: true },
					{ src: '../plugin/zoom-js/zoom.js', 			async: true },
					{ src: '../plugin/notes/notes.js', 				async: true }
				],

				keyboard: keyboard
			});

			/* custom stuff */
			Reveal.addEventListener('ready', function ( event ) {
				// Set animation delay if data-delay is specified
				$('*[data-delay]').each( function () { 
					var delay = $(this).attr("data-delay");
					$(this).css("-webkit-animation-delay", delay+"s"); 
					$(this).css("animation-delay", delay+"s"); 
				});
				// Set animation duration if data-duration is specified
				$('*[data-duration]').each( function () { 
					var duration = $(this).attr("data-duration");
					$(this).css("-webkit-animation-duration", duration+"s"); 
					$(this).css("animation-duration", duration+"s"); 
				});
				// initialize vega charts
				let width = window.innerWidth / 2;
				$(".vega-chart").each(function() {
					let spec = this.attributes.getNamedItem("data-spec").value;
					//spec = "https://raw.githubusercontent.com/vega/vega/master/docs/examples/bar-chart.vg.json";
					vegaEmbed('#'+this.id, spec, {"actions": false, "theme": "dark", "width": width, "renderer": "svg", "config": "data/config.json"}).then(function(result) {
					// Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
					}).catch(console.error);
				});
				
			});

			// Animate items that are not in a fragment
				Reveal.addEventListener('slidechanged', function( event ) {
				// Animate elements that are not a fragment (or in a fragment)
				var filter = '*[data-animate]:not(.fragment):not(.fragment *)';
				
				$(event.currentSlide).find(filter).each( function () {
					$(this).addClass('animated');
					$(this).addClass($(this).attr('data-animate'));
				});		
				$(event.previousSlide).find(filter).each( function () {
					$(this).removeClass('animated');
					$(this).removeClass($(this).attr('data-animate'));
				});		
				});

				// Animate fragments
				Reveal.addEventListener('fragmentshown', function( event ) {
					function loop(i, el) { 
						if ($(el).attr('data-animate')) {
							$(el).addClass('animated');
							$(el).addClass($(el).attr('data-animate'));
						}
						$.each($(el).children().not('.fragment'), loop);
					};
					$.each(event.fragments, loop);
				});

				// Make the animation runnable again if fragment is hidden
				Reveal.addEventListener('fragmenthidden', function( event ) {	  
				function loop(i, el) { 
					if ($(el).attr('data-animate')) {
						$(el).removeClass('animated');
						$(el).removeClass($(el).attr('data-animate'));
					}
					$.each($(el).children().not('.fragment'), loop);
				};
				$.each(event.fragments, loop);
			});
			if (hasCode) {
				var l = document.createElement('link');
				l.rel="stylesheet";
				l.href = "../lib/css/zenburn.css"
				document.head.appendChild(l);
			}
			if (hasAnims) {
				var l = document.createElement('link');
				l.rel="stylesheet";
				l.href = "../lib/css/animate.min.css"
				document.head.appendChild(l);
			}
		</script>

		<script nonce="googleAnalytics">
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
			i.initAnalytics=function(){a=s.createElement(o),m=s.getElementsByTagName(o)[0];
			a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			}})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			
			ga('create', 'UA-6512525-16', 'auto', {'siteSpeedSampleRate': 100});
			ga('send', 'pageview');
			
			window.addEventListener('load',function(){initAnalytics()});
		</script>
	</body>
</html>
